{"version":3,"file":"static/webpack/static/development/pages/index.js.671b2baca9cfb7c443c8.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport { NextSeo } from 'next-seo';\nimport Layout from '../components/Layout';\nimport FeaturedPosts from '../components/FeaturedPosts';\nimport axios from 'axios';\nimport CategoryPosts from '../components/CategoryPosts';\n\nconst Index = ({ featured }) => {\n\treturn (\n\t\t<Layout>\n\t\t\t<NextSeo title=\"Travel Eatinerary\" description=\"A Travel Blog\" />\n\t\t\t<main>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<FeaturedPosts posts={featured} />\n\n\t\t\t\t\t<CategoryPosts posts={budget} />\n\t\t\t\t</div>\n\t\t\t</main>\n\n\t\t\t<style jsx>{`\n\t\t\t\tmain {\n\t\t\t\t\tpadding: 3rem 0;\n\t\t\t\t}\n\n\t\t\t\th1 {\n\t\t\t\t\tcolor: pink;\n\t\t\t\t}\n\t\t\t`}</style>\n\t\t</Layout>\n\t);\n};\n\nIndex.getInitialProps = async () => {\n\tconst fetchCategoryPosts = (category, noOfPosts) => {\n\t\tconst query = `\n      query HomePagePosts {\n        posts(where: {categoryName: \"${category}\"}, first: ${noOfPosts}) {\n          edges {\n            node {\n              id\n              slug\n              title\n              date\n              acf {\n                shortDescription\n              }\n              tags {\n                nodes {\n                  name\n                }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfeaturedImage {\n\t\t\t\t\t\t\t\tmediaItemUrl\n\t\t\t\t\t\t\t}\n            }\n          }\n        }\n      }\n    `;\n\n\t\treturn axios({\n\t\t\turl: 'https://cms.traveleatinerary.com/graphql',\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\tquery\n\t\t\t}\n\t\t});\n\t};\n\n\tconst featured = await fetchCategoryPosts('featured', 3);\n\tconst budget = await fetchCategoryPosts('budget', 3);\n\tconst ethical = await fetchCategoryPosts('ethical', 3);\n\tconst guides = await fetchCategoryPosts('guides', 3);\n\tconst cravings = await fetchCategoryPosts('cravings', 3);\n\n\treturn {\n\t\tfeatured: featured.data,\n\t\tbudget: budget.data,\n\t\tethical: ethical.data,\n\t\tguides: guides.data,\n\t\tcravings: cravings.data\n\t};\n};\n\nexport default Index;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AAAA;AAAA;AAqBA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AA0BA;AACA;AACA;AACA;AACA;AADA;AAHA;AAOA;AACA;AApCA;AAAA;AACA;AADA;AAqCA;AArCA;AAAA;AACA;AADA;AAsCA;AAtCA;AAAA;AACA;AADA;AAuCA;AAvCA;AAAA;AACA;AADA;AAwCA;AAxCA;AAAA;AACA;AADA;AAyCA;AAzCA;AA4CA;AACA;AACA;AACA;AACA;AALA;AACA;AA5CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAmDA;;;;A","sourceRoot":""}